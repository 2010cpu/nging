(function(t){function f(r,t,s,l,o){if(!o)o=BACKEND_URL+"/tool/area/index";$.get(o,{pid:t},function(t){if(t.Code!=1){return App.message({text:t.Info,type:"error"})}if(t.Data.listData.length<1){while($(r).next("select").length>0)$(r).next("select").remove();$(r).remove();return}var e='<option value=""> - '+(App.i18n.PLEASE_SELECT?App.i18n.PLEASE_SELECT:"请选择")+" - </option>";for(var a=0;a<t.Data.listData.length;a++){var n=t.Data.listData[a];var i=s==n.id?" selected":"";e+='<option value="'+n.id+'"'+i+">"+n.name+"</option>"}$(r).html(e);v(r,l,o).trigger("change")},"json")}function v(o,v,c){if($(o).data("bindEvent")){return $(o)}$(o).data("bindEvent",true);return $(o).on("change",function(){var t=$(this).val();var e=$(this).attr("name");var a=$(this).attr("class");var n=Number($(this).attr("pos")||0);var i=$(this).data("target");if(t==""||t=="0"){if(n==0&&i)$(i).val(t);while($(o).next("select").length>0)$(o).next("select").remove();return}if(i)$(i).val(t);var r=n+1;if($(this).next("select").length<1){var s=' pos="'+r+'"';if(e)s+=' name="'+e+'"';if(a)s+=' class="'+a+'"';if(i)s+=' data-target="'+i+'"';$(this).after("<select"+s+"></select>")}var l="";if($.isArray(v)&&v.length>r)l=v[r];f($(this).next("select")[0],t,l,v,c)})}t.CascadeSelect={init:function(t,e,a){f(t,0,e?e[0]:"",e,a)}}})(window);