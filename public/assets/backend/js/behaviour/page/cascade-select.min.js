(function(t){function f(l,t,s,o,c){if(!c)c=BACKEND_URL+"/tool/area/index";$.get(c,{pid:t},function(t){if(t.Code!=1){return App.message({text:t.Info,type:"error"})}if(t.Data.listData.length<1){while($(l).next("select").length>0)$(l).next("select").remove();$(l).remove();return}var e=$(l).data("exclude");var a='<option value=""> - '+(App.i18n.PLEASE_SELECT?App.i18n.PLEASE_SELECT:"请选择")+" - </option>";for(var i=0;i<t.Data.listData.length;i++){var n=t.Data.listData[i];var r=s==n.id?" selected":"";if(e==n.id)r+=" disabled";a+='<option value="'+n.id+'"'+r+">"+n.name+"</option>"}$(l).html(a);v(l,o,c).trigger("change")},"json")}function v(c,v,d){if($(c).data("bindEvent")){return $(c)}$(c).data("bindEvent",true);return $(c).on("change",function(){var t=$(this).val();var e=$(this).attr("name");var a=$(this).attr("class");var i=Number($(this).attr("pos")||0);var n=$(this).data("target");var r=$(this).data("exclude");if(t==""||t=="0"){if(i==0&&n)$(n).val(t);while($(c).next("select").length>0)$(c).next("select").remove();return}if(n)$(n).val(t);var l=i+1;if($(this).next("select").length<1){var s=' pos="'+l+'"';if(e)s+=' name="'+e+'"';if(a)s+=' class="'+a+'"';if(n)s+=' data-target="'+n+'"';if(r)s+=' data-exclude="'+r+'"';$(this).after("<select"+s+"></select>")}var o="";if($.isArray(v)&&v.length>l)o=v[l];f($(this).next("select")[0],t,o,v,d)})}t.CascadeSelect={init:function(t,e,a){f(t,0,e?e[0]:"",e,a)}}})(window);