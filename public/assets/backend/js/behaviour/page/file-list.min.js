function ownerTypeChange(e){}function applySelected(){if(client=="xheditor"&&window.callback){window.callback("!"+getSelectedFiles().join(" "));return false}if(!callback){App.message({title:App.i18n.SYS_INFO,text:App.i18n.NO_CALLBACK_NAME,type:"error"});return false}if(typeof target[callback]=="function"){target[callback](getSelectedFiles())}return false}function getSelectedFiles(){var e=[];$("input.check-table:checked").each(function(){e.push($(this).data("file-url"))});if(e.length<1){App.message({title:App.i18n.SYS_INFO,text:App.i18n.PLEASE_SELECT,type:"error"});return false}return e}$(function(){$("#timerange").on("focus",function(){if($(this).data("attached"))return false;$(this).data("attached",true);App.daterangepicker("#timerange",{showShortcuts:true,shortcuts:{"prev-days":[1,3,5,7],"next-days":[3,5,7],prev:["week","month"],next:["week","month"]}})});function e(e){e.preventDefault();var t=$("#search-form").serializeArray();t.push({name:"partial",value:1});n($("#search-form").attr("action"),t)}if(dialogMode){$("#search-form").on("submit",e);$("#timerange,#type,#table,#ownerId,#used").on("change",e)}else{$("#timerange,#type,#table,#ownerId,#used").on("change",function(){$("#search-form").submit()})}var t;function a(){if($("#input-file-upload").parent(".file-preview-shadow").length<1)t=$("#input-file-upload").uploadPreviewer({buttonText:'<i class="fa fa-cloud-upload"></i> '+App.i18n.BUTTON_UPLOAD,previewTableContainer:"#previewTableContainer",url:uploadURL,previewTableShow:false});$('#checkedAll,input[type=checkbox][name="id[]"]:checked').prop("checked",false);App.attachCheckedAll("#checkedAll",'input[type=checkbox][name="id[]"]')}function n(e,t){$.get(e,t,function(e){$("#table-container").html(e);i();$("#table-container .pagination a").on("click",function(e){e.preventDefault();var t=$(this).attr("href");n(t,{})})},"html")}function i(){$("#table-container thead").data("sort-trigger",function(){var e=$("#table-container thead");var t=e.data("sort-url");n(t,{partial:1})});App.tableSorting("#table-container");App.float("#tbody-content img.previewable")}a();$(document).on("file-preview:changed",function(e){$.LoadingOverlay("show",{image:ASSETS_URL+"/images/nging-gear.png",text:App.i18n.UPLOADING});t.submit(function(e){$.LoadingOverlay("hide");if(e.Code==1){App.message({text:App.i18n.UPLOAD_SUCCEED,type:"success"});n(listURL,{partial:1})}else{App.message({text:e.Info,type:"error"})}})});i()});