{{Extend "layout"}}
{{Block "breadcrumb"}}
{{Super}}
{{/Block}}
{{Block "main"}}
<div class="row">
    <div class="col-md-12">
        <div class="block-flat">
          <div class="header">							
            <h3>{{if HasSuffix URL.Path "_add"}}{{"添加网站"|T}}{{else}}{{"修改网站"|T}}{{end}}</h3>
          </div>
          <div class="content">
              <form class="form-horizontal group-border-dashed" action="#" style="border-radius: 0px;">
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"网址/域名/IP"|T}}</label>
                <div class="col-sm-6">
                    <input type="text" name="domain" class="form-control">
                    <div class="help-block">{{"网站的网址、域名或IP。如有多个，用空格隔开"|T}}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"物理路径"|T}}</label>
                <div class="col-sm-6">
                    <input type="text" name="root" class="form-control">
                    <div class="help-block">{{"在服务器上的绝对路径"|T}}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"日志文件"|T}}</label>
                <div class="col-sm-6">
                    <input type="text" name="log" class="form-control" value="access_local.log">
                    <div class="help-block">{{"日志文件保存路径"|T}}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"Header"|T}}</label>
                <div class="col-sm-6">
                    <table>
								        <thead>
								        	<tr>
								        		<th style="width:50%;">{{"字段名"|T}}</th>
								        		<th>{{"值"|T}}</th>
								        		<th width="70">{{"删除"|T}}</th>
								        	</tr>
								        </thead>
								        <tbody>
								        	<tr>
								        		<td colspan="3" class="text-center primary-emphasis" style="cursor:pointer" id="headerAddVarBtn"><i class="fa fa-plus"></i></td>
								        	</tr>
								        </tbody>
							      </table>
                    <div class="help-block">{{"如果要将已存在的header删掉，可以在使用减号(-)作为其值"|}}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"HTTPS"|T}}</label>
                <div class="col-sm-6">
                    <!--<label class="checkbox-inline">
                    <input type="checkbox" name="tls" class="icheck"> Option 1
                    </label> -->
                    <label class="radio-inline">
                      <input type="radio" value="1" name="tls" checked="true" class="icheck" data-slide-settings="show"> {{"启用"|T}}
                    </label>
                    <label class="radio-inline">
                      <input type="radio" value="0" name="tls" class="icheck" data-slide-settings="hide"> {{"禁用"|T}}
                    </label>
                    <div class="fieldset bg-6e" id="tls-settings">
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"Cert文件"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="tlsCertFile">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"Key文件"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="tlsKeyFile">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"E-mail"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="tlsEmail">
                             <div class="help-block">{{"用于 Let's encrypt 生成证书"|T}}</div>
                          </div>
                        </div>
                    </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"GZIP"|T}}</label>
                <div class="col-sm-6">
                    <label class="radio-inline">
                      <input type="radio" value="1" name="gzip" checked="true" class="icheck" data-slide-settings="show"> {{"启用"|T}}
                    </label>
                    <label class="radio-inline">
                      <input type="radio" value="0" name="gzip" class="icheck" data-slide-settings="hide"> {{"禁用"|T}}
                    </label>
                    <div class="fieldset bg-6e" id="gzip-settings">
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"扩展名"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="gzipExt">
                             <div class="help-block">{{"如有多个，用空格隔开。星号(*)代表任意扩展名"|T}}</div>
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"排除路径"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="gzipNot">
                             <div class="help-block">{{"如有多个，用空格隔开"|T}}</div>
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"压缩级别"|T}}</label>
                          <div class="col-sm-9">
                             <input type="number" class="form-control" value="9" name="gzipLevel" min="1" max="9">
                             <div class="help-block">{{"1(速度最快)至9(数据最小)"|T}}</div>
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"压缩条件"|T}}</label>
                          <div class="col-sm-9">
                            <div class="input-group">
                             <input type="number" class="form-control" name="gzipMin_bytes" min="0">
                             <span class="input-group-addon">{{"字节(bytes)"|T}}</span>
                             </div>
                             <div class="help-block">{{"响应数据的大小只有大于这个尺寸的时候才会进行gzip压缩"|T}}</div>
                          </div>
                        </div>
                    </div>
                </div>
              </div>
              
              <div class="form-group">
                <label class="col-sm-3 control-label">{{"FastCGI"|T}}</label>
                <div class="col-sm-6">
                    <label class="radio-inline">
                      <input type="radio" value="1" name="fastcgi" checked="true" class="icheck" data-slide-settings="show"> {{"启用"|T}}
                    </label>
                    <label class="radio-inline">
                      <input type="radio" value="0" name="fastcgi" class="icheck" data-slide-settings="hide"> {{"禁用"|T}}
                    </label>
                    <div class="fieldset bg-6e" id="fastcgi-settings">
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"网址路径"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="fastcgiPath" value="/">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"FastCGI服务地址"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="fastcgiServerAddr" value="127.0.0.1:9070">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"FastCGI程序类型"|T}}</label>
                          <div class="col-sm-9">
                             <select class="form-control" name="fastcgiServerType">
                               <option value="">{{"默认"|T}}</option>
                               <option value="php">{{"PHP"|T}}</option>
                             </select>
                          </div>
                        </div>

                        
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"扩展名"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="fastcgiExt" value=".php">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"分割字符"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="fastcgiSplit" value=".php">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"默认首页文件"|T}}</label>
                          <div class="col-sm-9">
                             <input type="text" class="form-control" name="fastcgiIndex" value="index.php">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-3 control-label">{{"环境变量"|T}}</label>
                          <div class="col-sm-9">
                            <table>
								              <thead>
								              	<tr>
								              		<th style="width:50%;">{{"变量名"|T}}</th>
								              		<th>{{"值"|T}}</th>
								              		<th width="70">{{"删除"|T}}</th>
								              	</tr>
								              </thead>
								              <tbody>
								              	<tr>
								              		<td colspan="3" class="text-center primary-emphasis" style="cursor:pointer" id="fastcgiAddEnvVarBtn"><i class="fa fa-plus"></i></td>
								              	</tr>
								              </tbody>
							            </table>
                             
                          </div>
                        </div>

                    </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Input Sizing</label>
                <div class="col-sm-6">
                  <div class="input-group input-group-lg">
                    <span class="input-group-addon">@</span>
                    <input type="text" class="form-control" placeholder="Username">
                  </div>

                  <div class="input-group">
                    <span class="input-group-addon">@</span>
                    <input type="text" class="form-control" placeholder="Username">
                  </div>

                  <div class="input-group input-group-sm">
                    <span class="input-group-addon">@</span>
                    <input type="text" class="form-control" placeholder="Username">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Checkbox &amp; Radio</label>
                <div class="col-sm-6">
                  <div class="input-group">
                    <span class="input-group-addon">
                    <input type="checkbox">
                    </span>
                    <input type="text" class="form-control">
                  </div>	
                  <div class="input-group">
                    <span class="input-group-addon">
                    <input type="radio">
                    </span>
                    <input type="text" class="form-control">
                  </div>										
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Button Addons</label>
                <div class="col-sm-6">
                  <div class="input-group">
                    <input type="text" class="form-control">
                    <span class="input-group-btn">
                    <button class="btn btn-primary" type="button">Go!</button>
                    </span>
                  </div>
                  <div class="input-group">
                    <input type="text" class="form-control">
                    <div class="input-group-btn">
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">Action <span class="caret"></span></button>
                    <ul class="dropdown-menu pull-right">
                      <li><a href="#">Action</a></li>
                      <li><a href="#">Another action</a></li>
                      <li><a href="#">Something else here</a></li>
                      <li class="divider"></li>
                      <li><a href="#">Separated link</a></li>
                    </ul>
                    </div>
                  </div>
                  <div class="input-group">
                    <input type="text" class="form-control">
                    <div class="input-group-btn">
                      <button tabindex="-1" class="btn btn-default" type="button">Action</button>
                      <button tabindex="-1" data-toggle="dropdown" class="btn btn-primary dropdown-toggle" type="button">
                      <span class="caret"></span>
                      <span class="sr-only">Toggle Dropdown</span>
                      </button>
                      <ul role="menu" class="dropdown-menu pull-right">
                      <li><a href="#">Action</a></li>
                      <li><a href="#">Another action</a></li>
                      <li><a href="#">Something else here</a></li>
                      <li class="divider"></li>
                      <li><a href="#">Separated link</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Readonly Input</label>
                <div class="col-sm-6">
                  <input type="text" readonly="readonly" class="form-control" value="Readonly input text">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">Textarea</label>
                <div class="col-sm-6">
                  <textarea class="form-control"></textarea>
                </div>
              </div>
            </form>
          </div><!-- /.content -->
        </div><!-- /.block-flat -->
    </div>
</div>
{{/Block}}
{{Block "footer"}}
<script type="text/template" id="tmplAddVariableRow">
<tr>
	<td><input type="text" class="form-control" name="{name}" value=""></td>
	<td><input type="text" class="form-control" name="{name}" value=""></td>
	<td class="text-center">
    <button type="button" class="btn btn-danger" onclick="$(this).parent().parent().remove()">
      <i class="fa fa-times"></i>
    </button>
  </td>
</tr>
</script>
<script>
  $(function(){
    $('#fastcgiAddEnvVarBtn').on('click',function(){
      var tmpl=$('#tmplAddVariableRow').html();
      tmpl=tmpl.replace(/\{name\}/g,'fastcgiEnvVar');
      $(this).parent().before(tmpl);
    });
    $('#headerAddVarBtn').on('click',function(){
      var tmpl=$('#tmplAddVariableRow').html();
      tmpl=tmpl.replace(/\{name\}/g,'headerVar');
      $(this).parent().before(tmpl);
    });
    $('[data-slide-settings]').on('click',function(){
      var slide=$(this).data('slide-settings');
      if(slide==""){
        slide=$(this).val()=='1'?'show':'hide';
      }
      var eid='#'+$(this).attr('name')+'-settings';
      if(slide=='show'){
        $(eid).slideDown();
      }else{
        $(eid).slideUp();
      }
    });
  });
</script>
{{/Block}}